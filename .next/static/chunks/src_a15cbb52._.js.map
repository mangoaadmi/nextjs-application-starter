{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/hooks/useWebSocket.ts"],"sourcesContent":["import { useEffect, useState, useRef, useCallback } from 'react';\n\ninterface GameState {\n  players: Record<string, any>;\n  zones: any[];\n  turnOrder: string[];\n  currentTurn: number;\n  gamePhase: string;\n  ideologyCards: any[];\n  conspiracyCards: any[];\n}\n\ninterface WebSocketMessage {\n  type: string;\n  [key: string]: any;\n}\n\nexport const useWebSocket = () => {\n  const [gameState, setGameState] = useState<GameState | null>(null);\n  const [playerId, setPlayerId] = useState<string | null>(null);\n  const [connectionStatus, setConnectionStatus] = useState<'disconnected' | 'connecting' | 'connected'>('disconnected');\n  const [lastMessage, setLastMessage] = useState<WebSocketMessage | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  \n  const socketRef = useRef<WebSocket | null>(null);\n  const reconnectTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const reconnectAttempts = useRef(0);\n  const maxReconnectAttempts = 5;\n\n  const connect = useCallback(() => {\n    if (socketRef.current?.readyState === WebSocket.OPEN) {\n      return;\n    }\n\n    setConnectionStatus('connecting');\n    setError(null);\n\n    try {\n      socketRef.current = new WebSocket('ws://localhost:8080');\n\n      socketRef.current.onopen = () => {\n        console.log('WebSocket connected');\n        setConnectionStatus('connected');\n        reconnectAttempts.current = 0;\n        setError(null);\n      };\n\n      socketRef.current.onmessage = (event) => {\n        try {\n          const message: WebSocketMessage = JSON.parse(event.data);\n          setLastMessage(message);\n\n          switch (message.type) {\n            case 'gameState':\n              setGameState(message.state);\n              setPlayerId(message.playerId);\n              break;\n            case 'playerJoined':\n            case 'playerDisconnected':\n            case 'gameStarted':\n            case 'ideologySelected':\n            case 'votersPlaced':\n            case 'gerrymandering':\n            case 'turnEnded':\n            case 'conspiracyPlayed':\n            case 'volatileEvent':\n            case 'gameEnded':\n              if (message.state) {\n                setGameState(message.state);\n              }\n              break;\n            case 'error':\n              setError(message.message);\n              break;\n            default:\n              console.log('Unhandled message type:', message.type);\n          }\n        } catch (err) {\n          console.error('Error parsing WebSocket message:', err);\n          setError('Failed to parse server message');\n        }\n      };\n\n      socketRef.current.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        setError('Connection error occurred');\n      };\n\n      socketRef.current.onclose = (event) => {\n        console.log('WebSocket closed:', event.code, event.reason);\n        setConnectionStatus('disconnected');\n        \n        // Attempt to reconnect if not a normal closure\n        if (event.code !== 1000 && reconnectAttempts.current < maxReconnectAttempts) {\n          const delay = Math.min(1000 * Math.pow(2, reconnectAttempts.current), 10000);\n          reconnectAttempts.current++;\n          \n          console.log(`Attempting to reconnect in ${delay}ms (attempt ${reconnectAttempts.current})`);\n          \n          reconnectTimeoutRef.current = setTimeout(() => {\n            connect();\n          }, delay);\n        } else if (reconnectAttempts.current >= maxReconnectAttempts) {\n          setError('Failed to reconnect after multiple attempts');\n        }\n      };\n    } catch (err) {\n      console.error('Failed to create WebSocket connection:', err);\n      setError('Failed to establish connection');\n      setConnectionStatus('disconnected');\n    }\n  }, []);\n\n  const disconnect = useCallback(() => {\n    if (reconnectTimeoutRef.current) {\n      clearTimeout(reconnectTimeoutRef.current);\n      reconnectTimeoutRef.current = null;\n    }\n    \n    if (socketRef.current) {\n      socketRef.current.close(1000, 'User disconnected');\n      socketRef.current = null;\n    }\n    \n    setConnectionStatus('disconnected');\n    setGameState(null);\n    setPlayerId(null);\n  }, []);\n\n  const sendMessage = useCallback((message: any) => {\n    if (socketRef.current?.readyState === WebSocket.OPEN) {\n      try {\n        socketRef.current.send(JSON.stringify(message));\n        return true;\n      } catch (err) {\n        console.error('Failed to send message:', err);\n        setError('Failed to send message');\n        return false;\n      }\n    } else {\n      console.warn('WebSocket is not connected');\n      setError('Not connected to server');\n      return false;\n    }\n  }, []);\n\n  // Auto-connect on mount\n  useEffect(() => {\n    connect();\n    \n    return () => {\n      disconnect();\n    };\n  }, [connect, disconnect]);\n\n  // Clear error after some time\n  useEffect(() => {\n    if (error) {\n      const timeout = setTimeout(() => {\n        setError(null);\n      }, 5000);\n      \n      return () => clearTimeout(timeout);\n    }\n  }, [error]);\n\n  return {\n    gameState,\n    playerId,\n    connectionStatus,\n    lastMessage,\n    error,\n    sendMessage,\n    connect,\n    disconnect,\n    isConnected: connectionStatus === 'connected',\n    currentPlayer: gameState && playerId ? gameState.players[playerId] : null,\n    isCurrentTurn: gameState && playerId ? gameState.turnOrder[gameState.currentTurn] === playerId : false\n  };\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/Zone.tsx"],"sourcesContent":["import React from 'react';\n\ninterface ZoneProps {\n  zone: any;\n  isSelected: boolean;\n  isGerrymanderSource: boolean;\n  onClick: () => void;\n  canInteract: boolean;\n  players: Record<string, any>;\n}\n\nexport default function Zone({ \n  zone, \n  isSelected, \n  isGerrymanderSource, \n  onClick, \n  canInteract, \n  players \n}: ZoneProps) {\n  const getMajorityPlayerName = () => {\n    if (zone.majority && players[zone.majority]) {\n      return players[zone.majority].name;\n    }\n    return 'No majority';\n  };\n\n  const getZoneClasses = () => {\n    let classes = 'p-4 border-2 rounded-lg transition-all cursor-pointer hover:shadow-md ';\n    \n    if (isSelected) {\n      classes += 'border-primary bg-primary/10 ';\n    } else if (isGerrymanderSource) {\n      classes += 'border-yellow-500 bg-yellow-500/10 ';\n    } else if (zone.isVolatile) {\n      classes += 'border-destructive/50 bg-destructive/5 ';\n    } else {\n      classes += 'border-border bg-card ';\n    }\n    \n    if (canInteract) {\n      classes += 'hover:border-primary/50 ';\n    } else {\n      classes += 'opacity-75 ';\n    }\n    \n    if (zone.majority) {\n      classes += 'ring-2 ring-primary/20 ';\n    }\n    \n    return classes;\n  };\n\n  return (\n    <div\n      className={getZoneClasses()}\n      onClick={canInteract ? onClick : undefined}\n    >\n      <div className=\"space-y-2\">\n        {/* Zone Header */}\n        <div className=\"flex justify-between items-start\">\n          <h3 className=\"font-semibold text-sm\">{zone.name}</h3>\n          {zone.isVolatile && (\n            <span className=\"text-xs bg-destructive text-destructive-foreground px-1 py-0.5 rounded\">\n              Volatile\n            </span>\n          )}\n        </div>\n\n        {/* Voter Count */}\n        <div className=\"text-center\">\n          <div className=\"text-2xl font-bold text-primary\">\n            {zone.voters}\n          </div>\n          <div className=\"text-xs text-muted-foreground\">\n            Voters\n          </div>\n        </div>\n\n        {/* Majority Control */}\n        <div className=\"text-center\">\n          <div className=\"text-xs text-muted-foreground mb-1\">\n            Majority:\n          </div>\n          <div className={`text-sm font-medium ${\n            zone.majority ? 'text-primary' : 'text-muted-foreground'\n          }`}>\n            {getMajorityPlayerName()}\n          </div>\n        </div>\n\n        {/* Zone Status Indicators */}\n        <div className=\"flex justify-center space-x-1\">\n          {isSelected && (\n            <span className=\"text-xs bg-primary text-primary-foreground px-2 py-1 rounded\">\n              Selected\n            </span>\n          )}\n          {isGerrymanderSource && (\n            <span className=\"text-xs bg-yellow-500 text-white px-2 py-1 rounded\">\n              Source\n            </span>\n          )}\n        </div>\n\n        {/* Interactive Hint */}\n        {canInteract && (\n          <div className=\"text-xs text-center text-muted-foreground\">\n            Click to interact\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAWe,SAAS,KAAK,EAC3B,IAAI,EACJ,UAAU,EACV,mBAAmB,EACnB,OAAO,EACP,WAAW,EACX,OAAO,EACG;IACV,MAAM,wBAAwB;QAC5B,IAAI,KAAK,QAAQ,IAAI,OAAO,CAAC,KAAK,QAAQ,CAAC,EAAE;YAC3C,OAAO,OAAO,CAAC,KAAK,QAAQ,CAAC,CAAC,IAAI;QACpC;QACA,OAAO;IACT;IAEA,MAAM,iBAAiB;QACrB,IAAI,UAAU;QAEd,IAAI,YAAY;YACd,WAAW;QACb,OAAO,IAAI,qBAAqB;YAC9B,WAAW;QACb,OAAO,IAAI,KAAK,UAAU,EAAE;YAC1B,WAAW;QACb,OAAO;YACL,WAAW;QACb;QAEA,IAAI,aAAa;YACf,WAAW;QACb,OAAO;YACL,WAAW;QACb;QAEA,IAAI,KAAK,QAAQ,EAAE;YACjB,WAAW;QACb;QAEA,OAAO;IACT;IAEA,qBACE,6LAAC;QACC,WAAW;QACX,SAAS,cAAc,UAAU;kBAEjC,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAyB,KAAK,IAAI;;;;;;wBAC/C,KAAK,UAAU,kBACd,6LAAC;4BAAK,WAAU;sCAAyE;;;;;;;;;;;;8BAO7F,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACZ,KAAK,MAAM;;;;;;sCAEd,6LAAC;4BAAI,WAAU;sCAAgC;;;;;;;;;;;;8BAMjD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCAAqC;;;;;;sCAGpD,6LAAC;4BAAI,WAAW,CAAC,oBAAoB,EACnC,KAAK,QAAQ,GAAG,iBAAiB,yBACjC;sCACC;;;;;;;;;;;;8BAKL,6LAAC;oBAAI,WAAU;;wBACZ,4BACC,6LAAC;4BAAK,WAAU;sCAA+D;;;;;;wBAIhF,qCACC,6LAAC;4BAAK,WAAU;sCAAqD;;;;;;;;;;;;gBAOxE,6BACC,6LAAC;oBAAI,WAAU;8BAA4C;;;;;;;;;;;;;;;;;AAOrE;KAtGwB","debugId":null}},
    {"offset": {"line": 368, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/GameBoard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Zone from './Zone';\n\ninterface GameBoardProps {\n  gameState: any;\n  sendMessage: (msg: any) => void;\n  isCurrentTurn: boolean;\n  playerId: string | null;\n}\n\nexport default function GameBoard({ gameState, sendMessage, isCurrentTurn, playerId }: GameBoardProps) {\n  const [selectedZone, setSelectedZone] = useState<number | null>(null);\n  const [actionMode, setActionMode] = useState<'place' | 'gerrymander' | null>(null);\n  const [gerrymanderFrom, setGerrymanderFrom] = useState<number | null>(null);\n\n  if (!gameState || !gameState.zones) {\n    return (\n      <div className=\"flex items-center justify-center h-64 border rounded-lg bg-card\">\n        <p className=\"text-muted-foreground\">Loading board...</p>\n      </div>\n    );\n  }\n\n  const handleZoneClick = (zoneId: number) => {\n    if (!isCurrentTurn) return;\n\n    if (actionMode === 'place') {\n      setSelectedZone(zoneId);\n    } else if (actionMode === 'gerrymander') {\n      if (!gerrymanderFrom) {\n        setGerrymanderFrom(zoneId);\n      } else if (gerrymanderFrom !== zoneId) {\n        // Complete gerrymandering action\n        setSelectedZone(zoneId);\n      }\n    } else {\n      setSelectedZone(zoneId);\n    }\n  };\n\n  const handlePlaceVoters = (amount: number) => {\n    if (selectedZone && amount > 0) {\n      sendMessage({\n        type: 'zoneAction',\n        action: 'placeVoters',\n        zoneId: selectedZone,\n        amount: amount\n      });\n      setSelectedZone(null);\n      setActionMode(null);\n    }\n  };\n\n  const handleGerrymander = (amount: number) => {\n    if (gerrymanderFrom && selectedZone && amount > 0) {\n      sendMessage({\n        type: 'zoneAction',\n        action: 'gerrymander',\n        fromZoneId: gerrymanderFrom,\n        toZoneId: selectedZone,\n        amount: amount\n      });\n      setGerrymanderFrom(null);\n      setSelectedZone(null);\n      setActionMode(null);\n    }\n  };\n\n  const cancelAction = () => {\n    setSelectedZone(null);\n    setActionMode(null);\n    setGerrymanderFrom(null);\n  };\n\n  const currentPlayer = playerId ? gameState.players[playerId] : null;\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Action Controls */}\n      {isCurrentTurn && (\n        <div className=\"bg-card border rounded-lg p-4\">\n          <h3 className=\"font-semibold mb-3\">Actions</h3>\n          <div className=\"flex flex-wrap gap-2\">\n            <button\n              onClick={() => setActionMode('place')}\n              className={`px-3 py-2 rounded-md text-sm transition-colors ${\n                actionMode === 'place'\n                  ? 'bg-primary text-primary-foreground'\n                  : 'bg-secondary text-secondary-foreground hover:bg-secondary/80'\n              }`}\n              disabled={!currentPlayer || currentPlayer.voteBank === 0}\n            >\n              Place Voters ({currentPlayer?.voteBank || 0} available)\n            </button>\n            <button\n              onClick={() => setActionMode('gerrymander')}\n              className={`px-3 py-2 rounded-md text-sm transition-colors ${\n                actionMode === 'gerrymander'\n                  ? 'bg-primary text-primary-foreground'\n                  : 'bg-secondary text-secondary-foreground hover:bg-secondary/80'\n              }`}\n              disabled={!currentPlayer || currentPlayer.resources < 1}\n            >\n              Gerrymander (Cost: 1 Resource)\n            </button>\n            {(actionMode || selectedZone) && (\n              <button\n                onClick={cancelAction}\n                className=\"px-3 py-2 bg-destructive text-destructive-foreground rounded-md text-sm hover:bg-destructive/90 transition-colors\"\n              >\n                Cancel\n              </button>\n            )}\n          </div>\n          \n          {actionMode === 'gerrymander' && gerrymanderFrom && !selectedZone && (\n            <p className=\"text-sm text-muted-foreground mt-2\">\n              Selected source zone. Now click destination zone.\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* Game Board */}\n      <div className=\"bg-card border rounded-lg p-4\">\n        <h3 className=\"font-semibold mb-4\">Game Board</h3>\n        <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n          {gameState.zones.map((zone: any) => (\n            <Zone\n              key={zone.id}\n              zone={zone}\n              isSelected={selectedZone === zone.id}\n              isGerrymanderSource={gerrymanderFrom === zone.id}\n              onClick={() => handleZoneClick(zone.id)}\n              canInteract={isCurrentTurn && (actionMode !== null)}\n              players={gameState.players}\n            />\n          ))}\n        </div>\n      </div>\n\n      {/* Action Dialog */}\n      {selectedZone && actionMode === 'place' && (\n        <VoterPlacementDialog\n          zone={gameState.zones.find((z: any) => z.id === selectedZone)}\n          maxVoters={currentPlayer?.voteBank || 0}\n          onConfirm={handlePlaceVoters}\n          onCancel={cancelAction}\n        />\n      )}\n\n      {selectedZone && actionMode === 'gerrymander' && gerrymanderFrom && (\n        <GerrymanderDialog\n          fromZone={gameState.zones.find((z: any) => z.id === gerrymanderFrom)}\n          toZone={gameState.zones.find((z: any) => z.id === selectedZone)}\n          onConfirm={handleGerrymander}\n          onCancel={cancelAction}\n        />\n      )}\n    </div>\n  );\n}\n\n// Voter Placement Dialog Component\nfunction VoterPlacementDialog({ \n  zone, \n  maxVoters, \n  onConfirm, \n  onCancel \n}: {\n  zone: any;\n  maxVoters: number;\n  onConfirm: (amount: number) => void;\n  onCancel: () => void;\n}) {\n  const [amount, setAmount] = useState(1);\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-card p-6 rounded-lg max-w-md w-full mx-4\">\n        <h3 className=\"font-semibold mb-4\">Place Voters in {zone.name}</h3>\n        <p className=\"text-sm text-muted-foreground mb-4\">\n          Current voters: {zone.voters} | Available: {maxVoters}\n        </p>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">\n              Number of voters to place:\n            </label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              max={maxVoters}\n              value={amount}\n              onChange={(e) => setAmount(Math.max(1, Math.min(maxVoters, parseInt(e.target.value) || 1)))}\n              className=\"w-full px-3 py-2 border rounded-md bg-background\"\n            />\n          </div>\n          \n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => onConfirm(amount)}\n              disabled={amount > maxVoters || amount < 1}\n              className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              Confirm\n            </button>\n            <button\n              onClick={onCancel}\n              className=\"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Gerrymander Dialog Component\nfunction GerrymanderDialog({ \n  fromZone, \n  toZone, \n  onConfirm, \n  onCancel \n}: {\n  fromZone: any;\n  toZone: any;\n  onConfirm: (amount: number) => void;\n  onCancel: () => void;\n}) {\n  const [amount, setAmount] = useState(1);\n  const maxAmount = fromZone.voters;\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n      <div className=\"bg-card p-6 rounded-lg max-w-md w-full mx-4\">\n        <h3 className=\"font-semibold mb-4\">Gerrymander Voters</h3>\n        <p className=\"text-sm text-muted-foreground mb-4\">\n          Move voters from {fromZone.name} ({fromZone.voters} voters) to {toZone.name} ({toZone.voters} voters)\n        </p>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">\n              Number of voters to move:\n            </label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              max={maxAmount}\n              value={amount}\n              onChange={(e) => setAmount(Math.max(1, Math.min(maxAmount, parseInt(e.target.value) || 1)))}\n              className=\"w-full px-3 py-2 border rounded-md bg-background\"\n            />\n          </div>\n          \n          <div className=\"flex space-x-2\">\n            <button\n              onClick={() => onConfirm(amount)}\n              disabled={amount > maxAmount || amount < 1}\n              className=\"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              Confirm\n            </button>\n            <button\n              onClick={onCancel}\n              className=\"flex-1 px-4 py-2 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;AASe,SAAS,UAAU,EAAE,SAAS,EAAE,WAAW,EAAE,aAAa,EAAE,QAAQ,EAAkB;;IACnG,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAChE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAkC;IAC7E,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEtE,IAAI,CAAC,aAAa,CAAC,UAAU,KAAK,EAAE;QAClC,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;IAG3C;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI,CAAC,eAAe;QAEpB,IAAI,eAAe,SAAS;YAC1B,gBAAgB;QAClB,OAAO,IAAI,eAAe,eAAe;YACvC,IAAI,CAAC,iBAAiB;gBACpB,mBAAmB;YACrB,OAAO,IAAI,oBAAoB,QAAQ;gBACrC,iCAAiC;gBACjC,gBAAgB;YAClB;QACF,OAAO;YACL,gBAAgB;QAClB;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,gBAAgB,SAAS,GAAG;YAC9B,YAAY;gBACV,MAAM;gBACN,QAAQ;gBACR,QAAQ;gBACR,QAAQ;YACV;YACA,gBAAgB;YAChB,cAAc;QAChB;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,mBAAmB,gBAAgB,SAAS,GAAG;YACjD,YAAY;gBACV,MAAM;gBACN,QAAQ;gBACR,YAAY;gBACZ,UAAU;gBACV,QAAQ;YACV;YACA,mBAAmB;YACnB,gBAAgB;YAChB,cAAc;QAChB;IACF;IAEA,MAAM,eAAe;QACnB,gBAAgB;QAChB,cAAc;QACd,mBAAmB;IACrB;IAEA,MAAM,gBAAgB,WAAW,UAAU,OAAO,CAAC,SAAS,GAAG;IAE/D,qBACE,6LAAC;QAAI,WAAU;;YAEZ,+BACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS,IAAM,cAAc;gCAC7B,WAAW,CAAC,+CAA+C,EACzD,eAAe,UACX,uCACA,gEACJ;gCACF,UAAU,CAAC,iBAAiB,cAAc,QAAQ,KAAK;;oCACxD;oCACgB,eAAe,YAAY;oCAAE;;;;;;;0CAE9C,6LAAC;gCACC,SAAS,IAAM,cAAc;gCAC7B,WAAW,CAAC,+CAA+C,EACzD,eAAe,gBACX,uCACA,gEACJ;gCACF,UAAU,CAAC,iBAAiB,cAAc,SAAS,GAAG;0CACvD;;;;;;4BAGA,CAAC,cAAc,YAAY,mBAC1B,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;oBAMJ,eAAe,iBAAiB,mBAAmB,CAAC,8BACnD,6LAAC;wBAAE,WAAU;kCAAqC;;;;;;;;;;;;0BAQxD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,6LAAC;wBAAI,WAAU;kCACZ,UAAU,KAAK,CAAC,GAAG,CAAC,CAAC,qBACpB,6LAAC,6HAAA,CAAA,UAAI;gCAEH,MAAM;gCACN,YAAY,iBAAiB,KAAK,EAAE;gCACpC,qBAAqB,oBAAoB,KAAK,EAAE;gCAChD,SAAS,IAAM,gBAAgB,KAAK,EAAE;gCACtC,aAAa,iBAAkB,eAAe;gCAC9C,SAAS,UAAU,OAAO;+BANrB,KAAK,EAAE;;;;;;;;;;;;;;;;YAanB,gBAAgB,eAAe,yBAC9B,6LAAC;gBACC,MAAM,UAAU,KAAK,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;gBAChD,WAAW,eAAe,YAAY;gBACtC,WAAW;gBACX,UAAU;;;;;;YAIb,gBAAgB,eAAe,iBAAiB,iCAC/C,6LAAC;gBACC,UAAU,UAAU,KAAK,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;gBACpD,QAAQ,UAAU,KAAK,CAAC,IAAI,CAAC,CAAC,IAAW,EAAE,EAAE,KAAK;gBAClD,WAAW;gBACX,UAAU;;;;;;;;;;;;AAKpB;GAvJwB;KAAA;AAyJxB,mCAAmC;AACnC,SAAS,qBAAqB,EAC5B,IAAI,EACJ,SAAS,EACT,SAAS,EACT,QAAQ,EAMT;;IACC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;;wBAAqB;wBAAiB,KAAK,IAAI;;;;;;;8BAC7D,6LAAC;oBAAE,WAAU;;wBAAqC;wBAC/B,KAAK,MAAM;wBAAC;wBAAe;;;;;;;8BAG9C,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAGlD,6LAAC;oCACC,MAAK;oCACL,KAAI;oCACJ,KAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,WAAW,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;oCACvF,WAAU;;;;;;;;;;;;sCAId,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,IAAM,UAAU;oCACzB,UAAU,SAAS,aAAa,SAAS;oCACzC,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;IAvDS;MAAA;AAyDT,+BAA+B;AAC/B,SAAS,kBAAkB,EACzB,QAAQ,EACR,MAAM,EACN,SAAS,EACT,QAAQ,EAMT;;IACC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,YAAY,SAAS,MAAM;IAEjC,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAqB;;;;;;8BACnC,6LAAC;oBAAE,WAAU;;wBAAqC;wBAC9B,SAAS,IAAI;wBAAC;wBAAG,SAAS,MAAM;wBAAC;wBAAa,OAAO,IAAI;wBAAC;wBAAG,OAAO,MAAM;wBAAC;;;;;;;8BAG/F,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAGlD,6LAAC;oCACC,MAAK;oCACL,KAAI;oCACJ,KAAK;oCACL,OAAO;oCACP,UAAU,CAAC,IAAM,UAAU,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,WAAW,SAAS,EAAE,MAAM,CAAC,KAAK,KAAK;oCACvF,WAAU;;;;;;;;;;;;sCAId,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,SAAS,IAAM,UAAU;oCACzB,UAAU,SAAS,aAAa,SAAS;oCACzC,WAAU;8CACX;;;;;;8CAGD,6LAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;IAxDS;MAAA","debugId":null}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ResourcePanel.tsx"],"sourcesContent":["import React from 'react';\n\ninterface ResourcePanelProps {\n  gameState: any;\n  currentPlayer: any;\n  playerId: string | null;\n}\n\nexport default function ResourcePanel({ gameState, currentPlayer, playerId }: ResourcePanelProps) {\n  if (!gameState || !currentPlayer) {\n    return null;\n  }\n\n  const allPlayers = Object.values(gameState.players);\n\n  return (\n    <div className=\"bg-card border rounded-lg p-4\">\n      <h2 className=\"text-lg font-semibold mb-4\">Player Resources</h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n        {allPlayers.map((player: any) => (\n          <div\n            key={player.id}\n            className={`p-3 border rounded-md ${\n              player.id === playerId \n                ? 'border-primary bg-primary/5' \n                : 'border-border'\n            }`}\n          >\n            <div className=\"flex items-center justify-between mb-2\">\n              <h3 className={`font-medium ${\n                player.id === playerId ? 'text-primary' : 'text-foreground'\n              }`}>\n                {player.name}\n                {player.id === playerId && <span className=\"text-xs ml-1\">(You)</span>}\n              </h3>\n              {gameState.turnOrder[gameState.currentTurn] === player.id && (\n                <span className=\"text-xs bg-primary text-primary-foreground px-2 py-1 rounded\">\n                  Current Turn\n                </span>\n              )}\n            </div>\n            \n            <div className=\"space-y-1 text-sm\">\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Resources:</span>\n                <span className=\"font-medium\">{player.resources}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"text-muted-foreground\">Vote Bank:</span>\n                <span className=\"font-medium\">{player.voteBank}</span>\n              </div>\n              {player.ideology && (\n                <div className=\"flex justify-between\">\n                  <span className=\"text-muted-foreground\">Ideology:</span>\n                  <span className=\"font-medium text-xs\">\n                    {gameState.ideologyCards.find((card: any) => card.id === player.ideology)?.title || 'Unknown'}\n                  </span>\n                </div>\n              )}\n              {player.unlockedPowers && player.unlockedPowers.length > 0 && (\n                <div className=\"mt-2\">\n                  <span className=\"text-xs text-muted-foreground\">Powers:</span>\n                  <div className=\"flex flex-wrap gap-1 mt-1\">\n                    {player.unlockedPowers.map((power: string, index: number) => (\n                      <span\n                        key={index}\n                        className=\"text-xs bg-secondary text-secondary-foreground px-1 py-0.5 rounded\"\n                      >\n                        {power}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Zone Control Summary */}\n      <div className=\"mt-4 pt-4 border-t\">\n        <h3 className=\"font-medium mb-2\">Zone Control</h3>\n        <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-2\">\n          {gameState.zones.map((zone: any) => (\n            <div key={zone.id} className=\"text-center p-2 border rounded text-xs\">\n              <div className=\"font-medium\">{zone.name}</div>\n              <div className=\"text-muted-foreground\">\n                {zone.voters} voters\n              </div>\n              {zone.majority && (\n                <div className=\"text-primary text-xs mt-1\">\n                  {gameState.players[zone.majority]?.name}\n                </div>\n              )}\n              {zone.isVolatile && (\n                <div className=\"text-destructive text-xs\">Volatile</div>\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAQe,SAAS,cAAc,EAAE,SAAS,EAAE,aAAa,EAAE,QAAQ,EAAsB;IAC9F,IAAI,CAAC,aAAa,CAAC,eAAe;QAChC,OAAO;IACT;IAEA,MAAM,aAAa,OAAO,MAAM,CAAC,UAAU,OAAO;IAElD,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA6B;;;;;;0BAE3C,6LAAC;gBAAI,WAAU;0BACZ,WAAW,GAAG,CAAC,CAAC,uBACf,6LAAC;wBAEC,WAAW,CAAC,sBAAsB,EAChC,OAAO,EAAE,KAAK,WACV,gCACA,iBACJ;;0CAEF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAW,CAAC,YAAY,EAC1B,OAAO,EAAE,KAAK,WAAW,iBAAiB,mBAC1C;;4CACC,OAAO,IAAI;4CACX,OAAO,EAAE,KAAK,0BAAY,6LAAC;gDAAK,WAAU;0DAAe;;;;;;;;;;;;oCAE3D,UAAU,SAAS,CAAC,UAAU,WAAW,CAAC,KAAK,OAAO,EAAE,kBACvD,6LAAC;wCAAK,WAAU;kDAA+D;;;;;;;;;;;;0CAMnF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,6LAAC;gDAAK,WAAU;0DAAe,OAAO,SAAS;;;;;;;;;;;;kDAEjD,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,6LAAC;gDAAK,WAAU;0DAAe,OAAO,QAAQ;;;;;;;;;;;;oCAE/C,OAAO,QAAQ,kBACd,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAwB;;;;;;0DACxC,6LAAC;gDAAK,WAAU;0DACb,UAAU,aAAa,CAAC,IAAI,CAAC,CAAC,OAAc,KAAK,EAAE,KAAK,OAAO,QAAQ,GAAG,SAAS;;;;;;;;;;;;oCAIzF,OAAO,cAAc,IAAI,OAAO,cAAc,CAAC,MAAM,GAAG,mBACvD,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DAAgC;;;;;;0DAChD,6LAAC;gDAAI,WAAU;0DACZ,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,OAAe,sBACzC,6LAAC;wDAEC,WAAU;kEAET;uDAHI;;;;;;;;;;;;;;;;;;;;;;;uBA5CZ,OAAO,EAAE;;;;;;;;;;0BA2DpB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAmB;;;;;;kCACjC,6LAAC;wBAAI,WAAU;kCACZ,UAAU,KAAK,CAAC,GAAG,CAAC,CAAC,qBACpB,6LAAC;gCAAkB,WAAU;;kDAC3B,6LAAC;wCAAI,WAAU;kDAAe,KAAK,IAAI;;;;;;kDACvC,6LAAC;wCAAI,WAAU;;4CACZ,KAAK,MAAM;4CAAC;;;;;;;oCAEd,KAAK,QAAQ,kBACZ,6LAAC;wCAAI,WAAU;kDACZ,UAAU,OAAO,CAAC,KAAK,QAAQ,CAAC,EAAE;;;;;;oCAGtC,KAAK,UAAU,kBACd,6LAAC;wCAAI,WAAU;kDAA2B;;;;;;;+BAXpC,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;AAmB7B;KAhGwB","debugId":null}},
    {"offset": {"line": 1097, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/NegotiationPanel.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\ninterface NegotiationPanelProps {\n  sendMessage: (msg: any) => void;\n  players: Record<string, any>;\n  currentPlayerId: string | null;\n}\n\nexport default function NegotiationPanel({ sendMessage, players, currentPlayerId }: NegotiationPanelProps) {\n  const [proposal, setProposal] = useState('');\n  const [targetPlayer, setTargetPlayer] = useState<string>('');\n  const [proposalType, setProposalType] = useState<'trade' | 'coalition' | 'general'>('general');\n\n  const otherPlayers = Object.values(players).filter(player => player.id !== currentPlayerId);\n\n  const handleSubmitProposal = () => {\n    if (!proposal.trim()) return;\n\n    const negotiationData = {\n      type: 'negotiate',\n      proposal: {\n        text: proposal,\n        proposalType: proposalType,\n        from: currentPlayerId,\n        to: targetPlayer || null,\n        timestamp: Date.now()\n      },\n      targetPlayer: targetPlayer || null\n    };\n\n    sendMessage(negotiationData);\n    setProposal('');\n  };\n\n  const handleQuickProposal = (type: 'alliance' | 'trade' | 'ceasefire') => {\n    let quickText = '';\n    switch (type) {\n      case 'alliance':\n        quickText = 'I propose we form an alliance to control more zones together.';\n        break;\n      case 'trade':\n        quickText = 'I want to trade resources. What do you offer?';\n        break;\n      case 'ceasefire':\n        quickText = 'Let\\'s agree to a temporary ceasefire in contested zones.';\n        break;\n    }\n    setProposal(quickText);\n    setProposalType(type === 'trade' ? 'trade' : 'coalition');\n  };\n\n  return (\n    <div className=\"bg-card border rounded-lg p-4 space-y-4\">\n      <h3 className=\"font-semibold\">Negotiation & Diplomacy</h3>\n      \n      {/* Proposal Type Selection */}\n      <div>\n        <label className=\"block text-sm font-medium mb-2\">Proposal Type:</label>\n        <select\n          value={proposalType}\n          onChange={(e) => setProposalType(e.target.value as 'trade' | 'coalition' | 'general')}\n          className=\"w-full px-3 py-2 border rounded-md bg-background text-sm\"\n        >\n          <option value=\"general\">General</option>\n          <option value=\"trade\">Trade Offer</option>\n          <option value=\"coalition\">Coalition</option>\n        </select>\n      </div>\n\n      {/* Target Player Selection */}\n      <div>\n        <label className=\"block text-sm font-medium mb-2\">Target Player (Optional):</label>\n        <select\n          value={targetPlayer}\n          onChange={(e) => setTargetPlayer(e.target.value)}\n          className=\"w-full px-3 py-2 border rounded-md bg-background text-sm\"\n        >\n          <option value=\"\">All Players</option>\n          {otherPlayers.map((player) => (\n            <option key={player.id} value={player.id}>\n              {player.name}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Quick Proposal Buttons */}\n      <div>\n        <label className=\"block text-sm font-medium mb-2\">Quick Proposals:</label>\n        <div className=\"grid grid-cols-1 gap-2\">\n          <button\n            onClick={() => handleQuickProposal('alliance')}\n            className=\"px-3 py-2 text-sm bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors\"\n          >\n            Propose Alliance\n          </button>\n          <button\n            onClick={() => handleQuickProposal('trade')}\n            className=\"px-3 py-2 text-sm bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors\"\n          >\n            Trade Resources\n          </button>\n          <button\n            onClick={() => handleQuickProposal('ceasefire')}\n            className=\"px-3 py-2 text-sm bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/80 transition-colors\"\n          >\n            Propose Ceasefire\n          </button>\n        </div>\n      </div>\n\n      {/* Custom Proposal Input */}\n      <div>\n        <label className=\"block text-sm font-medium mb-2\">Custom Proposal:</label>\n        <textarea\n          value={proposal}\n          onChange={(e) => setProposal(e.target.value)}\n          placeholder=\"Enter your negotiation proposal...\"\n          className=\"w-full px-3 py-2 border rounded-md bg-background text-sm resize-none\"\n          rows={3}\n        />\n      </div>\n\n      {/* Submit Button */}\n      <button\n        onClick={handleSubmitProposal}\n        disabled={!proposal.trim()}\n        className=\"w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n      >\n        Send Proposal\n      </button>\n\n      {/* Negotiation Tips */}\n      <div className=\"text-xs text-muted-foreground space-y-1\">\n        <p className=\"font-medium\">Negotiation Tips:</p>\n        <ul className=\"list-disc list-inside space-y-0.5\">\n          <li>Form coalitions to control zones</li>\n          <li>Trade resources for mutual benefit</li>\n          <li>Propose temporary ceasefires</li>\n          <li>Share information about volatile zones</li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1411, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/Card.tsx"],"sourcesContent":["import React from 'react';\n\ninterface CardProps {\n  title: string;\n  description: string;\n  type: 'ideology' | 'conspiracy' | 'votebank';\n  isRevealed?: boolean;\n  children?: React.ReactNode;\n  onClick?: () => void;\n  className?: string;\n}\n\nexport default function Card({ \n  title, \n  description, \n  type, \n  isRevealed = true, \n  children, \n  onClick,\n  className = ''\n}: CardProps) {\n  const getCardTypeStyles = () => {\n    switch (type) {\n      case 'ideology':\n        return 'border-primary/30 bg-primary/5';\n      case 'conspiracy':\n        return 'border-destructive/30 bg-destructive/5';\n      case 'votebank':\n        return 'border-secondary/30 bg-secondary/5';\n      default:\n        return 'border-border bg-card';\n    }\n  };\n\n  const getCardTypeLabel = () => {\n    switch (type) {\n      case 'ideology':\n        return 'Ideology Card';\n      case 'conspiracy':\n        return 'Conspiracy Card';\n      case 'votebank':\n        return 'Vote Bank Card';\n      default:\n        return 'Card';\n    }\n  };\n\n  const cardClasses = `\n    border-2 rounded-lg p-4 transition-all duration-200 \n    ${getCardTypeStyles()} \n    ${onClick ? 'cursor-pointer hover:shadow-md hover:scale-105' : ''} \n    ${className}\n  `;\n\n  if (!isRevealed) {\n    return (\n      <div \n        className={`${cardClasses} relative overflow-hidden`}\n        onClick={onClick}\n      >\n        <div className=\"absolute inset-0 bg-gradient-to-br from-muted to-muted-foreground/20\" />\n        <div className=\"relative z-10 text-center\">\n          <div className=\"text-lg font-bold text-muted-foreground mb-2\">\n            {getCardTypeLabel()}\n          </div>\n          <div className=\"text-sm text-muted-foreground\">\n            Hidden\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div \n      className={cardClasses}\n      onClick={onClick}\n    >\n      <div className=\"space-y-3\">\n        {/* Card Header */}\n        <div className=\"flex justify-between items-start\">\n          <div>\n            <h3 className=\"font-bold text-lg leading-tight\">{title}</h3>\n            <p className=\"text-xs text-muted-foreground uppercase tracking-wide\">\n              {getCardTypeLabel()}\n            </p>\n          </div>\n          {type === 'conspiracy' && (\n            <div className=\"text-xs bg-destructive text-destructive-foreground px-2 py-1 rounded\">\n              Secret\n            </div>\n          )}\n        </div>\n\n        {/* Card Description */}\n        <p className=\"text-sm text-muted-foreground leading-relaxed\">\n          {description}\n        </p>\n\n        {/* Card Content */}\n        {children && (\n          <div className=\"border-t pt-3\">\n            {children}\n          </div>\n        )}\n\n        {/* Card Footer/Actions */}\n        {onClick && (\n          <div className=\"text-xs text-center text-muted-foreground pt-2 border-t\">\n            Click to interact\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAYe,SAAS,KAAK,EAC3B,KAAK,EACL,WAAW,EACX,IAAI,EACJ,aAAa,IAAI,EACjB,QAAQ,EACR,OAAO,EACP,YAAY,EAAE,EACJ;IACV,MAAM,oBAAoB;QACxB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,MAAM,mBAAmB;QACvB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,MAAM,cAAc,CAAC;;IAEnB,EAAE,oBAAoB;IACtB,EAAE,UAAU,mDAAmD,GAAG;IAClE,EAAE,UAAU;EACd,CAAC;IAED,IAAI,CAAC,YAAY;QACf,qBACE,6LAAC;YACC,WAAW,GAAG,YAAY,yBAAyB,CAAC;YACpD,SAAS;;8BAET,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;sCACZ;;;;;;sCAEH,6LAAC;4BAAI,WAAU;sCAAgC;;;;;;;;;;;;;;;;;;IAMvD;IAEA,qBACE,6LAAC;QACC,WAAW;QACX,SAAS;kBAET,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,6LAAC;oCAAE,WAAU;8CACV;;;;;;;;;;;;wBAGJ,SAAS,8BACR,6LAAC;4BAAI,WAAU;sCAAuE;;;;;;;;;;;;8BAO1F,6LAAC;oBAAE,WAAU;8BACV;;;;;;gBAIF,0BACC,6LAAC;oBAAI,WAAU;8BACZ;;;;;;gBAKJ,yBACC,6LAAC;oBAAI,WAAU;8BAA0D;;;;;;;;;;;;;;;;;AAOnF;KAvGwB","debugId":null}},
    {"offset": {"line": 1586, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/PlayerCard.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport Card from './Card';\n\ninterface PlayerCardProps {\n  player: any;\n  ideologyCards: any[];\n  sendMessage: (msg: any) => void;\n}\n\nexport default function PlayerCard({ player, ideologyCards, sendMessage }: PlayerCardProps) {\n  const [showSecretChoices, setShowSecretChoices] = useState(false);\n  const [secretChoice, setSecretChoice] = useState('');\n\n  if (!player.ideology) {\n    return null;\n  }\n\n  const ideologyCard = ideologyCards.find(card => card.id === player.ideology);\n  \n  if (!ideologyCard) {\n    return null;\n  }\n\n  const handleSecretChoice = () => {\n    if (secretChoice.trim()) {\n      sendMessage({\n        type: 'makeSecretChoice',\n        cardId: ideologyCard.id,\n        choice: secretChoice\n      });\n      setSecretChoice('');\n      setShowSecretChoices(false);\n    }\n  };\n\n  const hasSecretChoice = player.secretChoices && player.secretChoices[ideologyCard.id];\n\n  return (\n    <div className=\"space-y-4\">\n      <Card\n        title={ideologyCard.title}\n        description={ideologyCard.description}\n        type=\"ideology\"\n        isRevealed={true}\n      >\n        <div className=\"space-y-3\">\n          {/* Rewards Section */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-2\">Rewards Gained:</h4>\n            <div className=\"grid grid-cols-2 gap-2 text-xs\">\n              <div className=\"flex justify-between\">\n                <span>Resources:</span>\n                <span className=\"font-medium\">+{ideologyCard.rewards.resources}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span>Vote Bank:</span>\n                <span className=\"font-medium\">+{ideologyCard.rewards.voteBank}</span>\n              </div>\n              {ideologyCard.rewards.special && (\n                <div className=\"col-span-2 flex justify-between\">\n                  <span>Special:</span>\n                  <span className=\"font-medium text-primary\">{ideologyCard.rewards.special}</span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Unlocked Powers */}\n          {player.unlockedPowers && player.unlockedPowers.length > 0 && (\n            <div>\n              <h4 className=\"text-sm font-medium mb-2\">Unlocked Powers:</h4>\n              <div className=\"space-y-1\">\n                {player.unlockedPowers.map((power: string, index: number) => (\n                  <div\n                    key={index}\n                    className=\"text-xs bg-primary/10 text-primary px-2 py-1 rounded\"\n                  >\n                    {power}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Secret Choices Section */}\n          <div>\n            <div className=\"flex justify-between items-center mb-2\">\n              <h4 className=\"text-sm font-medium\">Secret Choice:</h4>\n              <button\n                onClick={() => setShowSecretChoices(!showSecretChoices)}\n                className=\"text-xs text-primary hover:text-primary/80\"\n              >\n                {hasSecretChoice ? 'View/Edit' : 'Make Choice'}\n              </button>\n            </div>\n            \n            {hasSecretChoice && !showSecretChoices && (\n              <div className=\"text-xs bg-muted p-2 rounded\">\n                <span className=\"text-muted-foreground\">Choice made</span>\n                <span className=\"ml-2 font-medium\">Hidden</span>\n              </div>\n            )}\n\n            {showSecretChoices && (\n              <div className=\"space-y-2\">\n                <textarea\n                  value={secretChoice}\n                  onChange={(e) => setSecretChoice(e.target.value)}\n                  placeholder={hasSecretChoice ? \"Update your secret choice...\" : \"Enter your secret ideological stance...\"}\n                  className=\"w-full px-2 py-1 text-xs border rounded bg-background resize-none\"\n                  rows={2}\n                />\n                <div className=\"flex space-x-2\">\n                  <button\n                    onClick={handleSecretChoice}\n                    disabled={!secretChoice.trim()}\n                    className=\"flex-1 px-2 py-1 text-xs bg-primary text-primary-foreground rounded hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {hasSecretChoice ? 'Update' : 'Confirm'}\n                  </button>\n                  <button\n                    onClick={() => {\n                      setShowSecretChoices(false);\n                      setSecretChoice('');\n                    }}\n                    className=\"flex-1 px-2 py-1 text-xs bg-secondary text-secondary-foreground rounded hover:bg-secondary/80\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Ideology-Specific Actions */}\n          <div>\n            <h4 className=\"text-sm font-medium mb-2\">Available Actions:</h4>\n            <div className=\"space-y-1\">\n              {ideologyCard.id === 1 && ( // Economic Growth\n                <button className=\"w-full text-xs px-2 py-1 bg-secondary text-secondary-foreground rounded hover:bg-secondary/80\">\n                  Business Development (+1 Resource)\n                </button>\n              )}\n              {ideologyCard.id === 2 && ( // Social Justice\n                <button className=\"w-full text-xs px-2 py-1 bg-secondary text-secondary-foreground rounded hover:bg-secondary/80\">\n                  Rally Support (+1 Vote Bank)\n                </button>\n              )}\n              {ideologyCard.id === 3 && ( // Environmental Protection\n                <button className=\"w-full text-xs px-2 py-1 bg-secondary text-secondary-foreground rounded hover:bg-secondary/80\">\n                  Green Initiative (Special Action)\n                </button>\n              )}\n              {ideologyCard.id === 4 && ( // National Security\n                <button className=\"w-full text-xs px-2 py-1 bg-secondary text-secondary-foreground rounded hover:bg-secondary/80\">\n                  Security Measures (+2 Resources)\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1960, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ConnectionStatus.tsx"],"sourcesContent":["import React from 'react';\n\ninterface ConnectionStatusProps {\n  status: 'disconnected' | 'connecting' | 'connected';\n  error?: string | null;\n}\n\nexport default function ConnectionStatus({ status, error }: ConnectionStatusProps) {\n  const getStatusColor = () => {\n    switch (status) {\n      case 'connected':\n        return 'text-green-600';\n      case 'connecting':\n        return 'text-yellow-600';\n      case 'disconnected':\n        return 'text-red-600';\n      default:\n        return 'text-muted-foreground';\n    }\n  };\n\n  const getStatusText = () => {\n    switch (status) {\n      case 'connected':\n        return 'Connected';\n      case 'connecting':\n        return 'Connecting...';\n      case 'disconnected':\n        return 'Disconnected';\n      default:\n        return 'Unknown';\n    }\n  };\n\n  return (\n    <div className=\"flex items-center space-x-2\">\n      <div className={`w-2 h-2 rounded-full ${\n        status === 'connected' ? 'bg-green-600' :\n        status === 'connecting' ? 'bg-yellow-600' :\n        'bg-red-600'\n      }`} />\n      <span className={`text-sm ${getStatusColor()}`}>\n        {getStatusText()}\n      </span>\n      {error && (\n        <span className=\"text-xs text-destructive\">\n          ({error})\n        </span>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAOe,SAAS,iBAAiB,EAAE,MAAM,EAAE,KAAK,EAAyB;IAC/E,MAAM,iBAAiB;QACrB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,MAAM,gBAAgB;QACpB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAW,CAAC,qBAAqB,EACpC,WAAW,cAAc,iBACzB,WAAW,eAAe,kBAC1B,cACA;;;;;;0BACF,6LAAC;gBAAK,WAAW,CAAC,QAAQ,EAAE,kBAAkB;0BAC3C;;;;;;YAEF,uBACC,6LAAC;gBAAK,WAAU;;oBAA2B;oBACvC;oBAAM;;;;;;;;;;;;;AAKlB;KA5CwB","debugId":null}},
    {"offset": {"line": 2039, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useWebSocket } from '@/hooks/useWebSocket';\nimport GameBoard from '@/components/GameBoard';\nimport ResourcePanel from '@/components/ResourcePanel';\nimport NegotiationPanel from '@/components/NegotiationPanel';\nimport PlayerCard from '@/components/PlayerCard';\nimport ConnectionStatus from '@/components/ConnectionStatus';\n\nexport default function GamePage() {\n  const { \n    gameState, \n    playerId, \n    connectionStatus, \n    lastMessage, \n    error, \n    sendMessage, \n    currentPlayer,\n    isCurrentTurn \n  } = useWebSocket();\n\n  const handleStartGame = () => {\n    sendMessage({ type: 'startGame' });\n  };\n\n  const handleEndTurn = () => {\n    sendMessage({ type: 'endTurn' });\n  };\n\n  if (!gameState) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-background text-foreground\">\n        <div className=\"text-center space-y-4\">\n          <h1 className=\"text-3xl font-bold\">SHASN Multiplayer</h1>\n          <ConnectionStatus status={connectionStatus} error={error} />\n          <p className=\"text-muted-foreground\">Connecting to game server...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen p-4 bg-background text-foreground\">\n      <header className=\"mb-6\">\n        <div className=\"flex justify-between items-center\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">SHASN Multiplayer</h1>\n            <p className=\"text-sm text-muted-foreground\">\n              Players: {Object.keys(gameState.players).length} | \n              Phase: {gameState.gamePhase} |\n              {gameState.gamePhase === 'playing' && (\n                <span className=\"ml-1\">\n                  Turn: {gameState.players[gameState.turnOrder[gameState.currentTurn]]?.name}\n                  {isCurrentTurn && <span className=\"text-primary font-semibold\"> (Your Turn)</span>}\n                </span>\n              )}\n            </p>\n          </div>\n          <ConnectionStatus status={connectionStatus} error={error} />\n        </div>\n      </header>\n\n      {error && (\n        <div className=\"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-md\">\n          <p className=\"text-destructive text-sm\">{error}</p>\n        </div>\n      )}\n\n      {lastMessage && lastMessage.type === 'gameEnded' && (\n        <div className=\"mb-4 p-4 bg-primary/10 border border-primary/20 rounded-md\">\n          <h2 className=\"text-lg font-semibold\">Game Over!</h2>\n          <p>Winner: {gameState.players[lastMessage.winner]?.name}</p>\n        </div>\n      )}\n\n      <div className=\"space-y-6\">\n        {/* Resource Panel */}\n        <ResourcePanel \n          gameState={gameState} \n          currentPlayer={currentPlayer}\n          playerId={playerId}\n        />\n\n        {/* Game Setup Phase */}\n        {gameState.gamePhase === 'setup' && (\n          <div className=\"text-center space-y-4\">\n            <h2 className=\"text-xl font-semibold\">Waiting for Players</h2>\n            <p className=\"text-muted-foreground\">\n              {Object.keys(gameState.players).length >= 2 \n                ? 'Ready to start!' \n                : 'Need at least 2 players to begin'\n              }\n            </p>\n            {Object.keys(gameState.players).length >= 2 && (\n              <button\n                onClick={handleStartGame}\n                className=\"px-6 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors\"\n              >\n                Start Game\n              </button>\n            )}\n          </div>\n        )}\n\n        {/* Main Game Interface */}\n        {gameState.gamePhase === 'playing' && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n            {/* Game Board - Takes up most space */}\n            <div className=\"lg:col-span-3\">\n              <GameBoard \n                gameState={gameState} \n                sendMessage={sendMessage}\n                isCurrentTurn={isCurrentTurn}\n                playerId={playerId}\n              />\n            </div>\n\n            {/* Side Panel */}\n            <div className=\"space-y-4\">\n              {/* Player's Ideology Card */}\n              {currentPlayer?.ideology && (\n                <PlayerCard \n                  player={currentPlayer}\n                  ideologyCards={gameState.ideologyCards}\n                  sendMessage={sendMessage}\n                />\n              )}\n\n              {/* Negotiation Panel */}\n              <NegotiationPanel \n                sendMessage={sendMessage}\n                players={gameState.players}\n                currentPlayerId={playerId}\n              />\n\n              {/* Turn Actions */}\n              {isCurrentTurn && (\n                <div className=\"p-4 border rounded-md bg-card\">\n                  <h3 className=\"font-semibold mb-2\">Your Turn</h3>\n                  <button\n                    onClick={handleEndTurn}\n                    className=\"w-full px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors\"\n                  >\n                    End Turn\n                  </button>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Ideology Selection (if not selected) */}\n        {gameState.gamePhase === 'playing' && currentPlayer && !currentPlayer.ideology && (\n          <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n            <div className=\"bg-card p-6 rounded-lg max-w-2xl w-full mx-4\">\n              <h2 className=\"text-xl font-semibold mb-4\">Choose Your Ideology</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {gameState.ideologyCards.map((card) => (\n                  <div\n                    key={card.id}\n                    className=\"p-4 border rounded-md hover:bg-muted cursor-pointer transition-colors\"\n                    onClick={() => sendMessage({ type: 'selectIdeology', cardId: card.id })}\n                  >\n                    <h3 className=\"font-semibold\">{card.title}</h3>\n                    <p className=\"text-sm text-muted-foreground mb-2\">{card.description}</p>\n                    <div className=\"text-xs\">\n                      <p>Rewards:</p>\n                      <p>Resources: +{card.rewards.resources}</p>\n                      <p>Vote Bank: +{card.rewards.voteBank}</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}